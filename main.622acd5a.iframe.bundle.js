(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{423:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.c,{title:"Overview/Getting Started",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h1",{id:"reactjs-week-calendar"},"React.js week calendar"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"This guide will help you render calendar component with React.js.\nIf you're not familiar with setting up a new React web project, please refer to the React documentation."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"install"},"Install"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"In order to install the components run the following:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("code",{parentName:"pre",className:"language-bash"},"npm install onedash-react-calendar\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"usage"},"Usage"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,'All the described components can be imported from "onedash-react-calendar".'),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("em",{parentName:"p"},"Example:")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("code",{parentName:"pre",className:"language-jsx"},'const [calenderDate, changeDate] = React.useState(dayjs().timestamp());\nconst events = React.useMemo(() => getTestData(calenderDate), [calenderDate]);\nreturn (\n    <div className="onedash-calendar-example">\n        <Calendar dayNum={dayNum} onStartDateChange={changeDate} startDate={calenderDate} hourFrom={hourFrom} hourTo={hourTo}>\n            <CalendarToolbarItem>\n                <button>New Event</button>\n            </CalendarToolbarItem>\n\n            {events?.map((e, i) => (\n                <CalendarItem key={i as any} title={e.name} from={e.from} to={e.to} className="event" />\n            ))}\n        </Calendar>\n    </div>\n);\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"styling"},"Styling"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"Most components come without any style. You can adjust it yourself by CSS. If you like the style in this documentation, you can use our stylesheet from ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("a",{parentName:"p",href:"https://github.com/OneDash-DE/onedash-react-calendar/blob/main/src/components/stories/calendar.sass",target:"_blank",rel:"nofollow noopener noreferrer"},"here"),"."))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Overview/Getting Started",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(MDXContent,null))},__webpack_exports__.default=componentMeta},474:function(module,exports,__webpack_require__){__webpack_require__(475),__webpack_require__(630),__webpack_require__(631),__webpack_require__(837),__webpack_require__(834),__webpack_require__(839),__webpack_require__(840),__webpack_require__(838),__webpack_require__(836),__webpack_require__(841),__webpack_require__(842),module.exports=__webpack_require__(828)},542:function(module,exports){},631:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(336)},828:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(336).configure)([__webpack_require__(829),__webpack_require__(830)],module,!1)}).call(this,__webpack_require__(191)(module))},829:function(module,exports,__webpack_require__){var map={"./Overview.stories.mdx":423};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=829},830:function(module,exports,__webpack_require__){var map={"./Calendar.stories.mdx":835,"./Overview.stories.mdx":423};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=830},832:function(module,exports,__webpack_require__){},833:function(module,exports,__webpack_require__){},835:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"defaultStory",(function(){return defaultStory}));var LocaleCodes,_DE,_EN,react=__webpack_require__(0),react_default=__webpack_require__.n(react),esm=__webpack_require__(18),blocks=__webpack_require__(86),slicedToArray=__webpack_require__(133),dayjs_min=__webpack_require__(21),dayjs_min_default=__webpack_require__.n(dayjs_min),toConsumableArray=__webpack_require__(165),objectSpread2=__webpack_require__(287),classCallCheck=__webpack_require__(212),createClass=__webpack_require__(213),inherits=__webpack_require__(454),createSuper=__webpack_require__(452),defineProperty=__webpack_require__(97);!function(LocaleCodes){LocaleCodes[LocaleCodes.UnknownDate=0]="UnknownDate",LocaleCodes[LocaleCodes.Today=1]="Today",LocaleCodes[LocaleCodes.oClock=2]="oClock"}(LocaleCodes||(LocaleCodes={}));_DE={},Object(defineProperty.a)(_DE,LocaleCodes.UnknownDate,"Unbekannter Zeitpunkt"),Object(defineProperty.a)(_DE,LocaleCodes.Today,"Heute"),Object(defineProperty.a)(_DE,LocaleCodes.oClock,"Uhr");var LOCALE_MESSAGES=(_EN={},Object(defineProperty.a)(_EN,LocaleCodes.UnknownDate,"Unknown date"),Object(defineProperty.a)(_EN,LocaleCodes.Today,"Today"),Object(defineProperty.a)(_EN,LocaleCodes.oClock,""),_EN),LocaleMessages=function localeMessages(){return LOCALE_MESSAGES},jsx_runtime=__webpack_require__(5),MediaRender_MediaRender=function MediaRender(props){var _props$size,size=null!==(_props$size=props.size)&&void 0!==_props$size?_props$size:720,type=props.type,checkRender=function checkRender(){return"mobile"===type?window.innerWidth<size:window.innerWidth>size},_React$useState=react_default.a.useState(checkRender()),_React$useState2=Object(slicedToArray.a)(_React$useState,2),shouldRender=_React$useState2[0],updateRender=_React$useState2[1];return react_default.a.useEffect((function(){window.addEventListener("resize",(function(){return updateRender(checkRender())}))})),Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:shouldRender&&props.children})},utils_MediaRender=MediaRender_MediaRender;try{MediaRender_MediaRender.displayName="MediaRender",MediaRender_MediaRender.__docgenInfo={description:"",displayName:"MediaRender",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"mobile"'},{value:'"desktop"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/MediaRender.tsx#MediaRender"]={docgenInfo:MediaRender_MediaRender.__docgenInfo,name:"MediaRender",path:"src/utils/MediaRender.tsx#MediaRender"})}catch(__react_docgen_typescript_loader_error){}var CalendarToolbar_CalendarToolbar=function CalendarToolbar(props){var calendarTitle=props.calendarTitle,todayEnabled=props.todayEnabled;return Object(jsx_runtime.jsxs)("div",{className:"onedash-calendar-toolbar",children:[Object(jsx_runtime.jsxs)(utils_MediaRender,{type:"desktop",children:[Object(jsx_runtime.jsx)("div",{className:"left",children:props.additionalItems}),Object(jsx_runtime.jsx)("div",{className:"center",children:Object(jsx_runtime.jsx)("h1",{children:calendarTitle})}),Object(jsx_runtime.jsx)("div",{className:"right",children:Object(jsx_runtime.jsxs)("div",{className:"period-switch",children:[Object(jsx_runtime.jsx)("button",{disabled:!todayEnabled||props.dateChangeDisabled,className:"toolbar-btn highlight-btn",onClick:props.onToday,children:LocaleMessages()[LocaleCodes.Today]}),Object(jsx_runtime.jsx)("button",{className:"nav-btn",onClick:props.onPrevInterval,disabled:props.dateChangeDisabled,children:"<"}),Object(jsx_runtime.jsx)("button",{className:"nav-btn",onClick:props.onNextInterval,disabled:props.dateChangeDisabled,children:">"})]})})]}),Object(jsx_runtime.jsxs)(utils_MediaRender,{type:"mobile",children:[Object(jsx_runtime.jsx)("button",{className:"nav-btn",onClick:props.onPrevInterval,children:Object(jsx_runtime.jsx)("i",{className:"lnir lnir-chevron-left"})}),Object(jsx_runtime.jsx)("h1",{children:calendarTitle}),Object(jsx_runtime.jsx)("button",{className:"nav-btn",onClick:props.onNextInterval,children:Object(jsx_runtime.jsx)("i",{className:"lnir lnir-chevron-right"})})]})]})},components_CalendarToolbar=CalendarToolbar_CalendarToolbar;try{CalendarToolbar_CalendarToolbar.displayName="CalendarToolbar",CalendarToolbar_CalendarToolbar.__docgenInfo={description:"",displayName:"CalendarToolbar",props:{calendarTitle:{defaultValue:null,description:"",name:"calendarTitle",required:!1,type:{name:"string"}},onNextInterval:{defaultValue:null,description:"",name:"onNextInterval",required:!1,type:{name:"(() => void)"}},onPrevInterval:{defaultValue:null,description:"",name:"onPrevInterval",required:!1,type:{name:"(() => void)"}},onToday:{defaultValue:null,description:"",name:"onToday",required:!1,type:{name:"(() => void)"}},todayEnabled:{defaultValue:null,description:"",name:"todayEnabled",required:!0,type:{name:"boolean"}},additionalItems:{defaultValue:null,description:"",name:"additionalItems",required:!1,type:{name:"ReactNode[]"}},dateChangeDisabled:{defaultValue:null,description:"",name:"dateChangeDisabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CalendarToolbar.tsx#CalendarToolbar"]={docgenInfo:CalendarToolbar_CalendarToolbar.__docgenInfo,name:"CalendarToolbar",path:"src/components/CalendarToolbar.tsx#CalendarToolbar"})}catch(__react_docgen_typescript_loader_error){}var relativeTime=__webpack_require__(448),relativeTime_default=__webpack_require__.n(relativeTime),weekday=__webpack_require__(449),weekday_default=__webpack_require__.n(weekday),isSameOrAfter=__webpack_require__(450),isSameOrAfter_default=__webpack_require__.n(isSameOrAfter),isSameOrBefore=__webpack_require__(451),isSameOrBefore_default=__webpack_require__.n(isSameOrBefore);dayjs_min_default.a.extend(weekday_default.a),dayjs_min_default.a.extend(isSameOrAfter_default.a),dayjs_min_default.a.extend(isSameOrBefore_default.a),dayjs_min_default.a.extend(relativeTime_default.a),dayjs_min_default.a.prototype.timestamp=function(){return this.toDate().getTime()};var DateUtils_DateUtils=function(){function DateUtils(){Object(classCallCheck.a)(this,DateUtils)}return Object(createClass.a)(DateUtils,null,[{key:"setTime",value:function setTime(date){var hours=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,minutes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,seconds=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,milliseconds=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return date.clone().set("millisecond",milliseconds).set("second",seconds).set("minute",minutes).set("hour",hours)}}]),DateUtils}();DateUtils_DateUtils.formatFromNow=function(timestamp){return timestamp?dayjs_min_default()(timestamp).fromNow():LocaleMessages()[LocaleCodes.UnknownDate]},DateUtils_DateUtils.adjustTime=function(toDate,fromDate){return DateUtils_DateUtils.setTime(fromDate,toDate.get("h"),toDate.get("m"),toDate.get("s"),toDate.get("ms"))};var CalendarItem_CalendarItem=function CalendarItem(props){var _props$color,dateTime,description=props.description,style=props.style,title=props.title,from=dayjs_min_default()(props.from),to=dayjs_min_default()(props.to),origFrom=dayjs_min_default()(props._origFrom),origTo=dayjs_min_default()(props._origTo),diff=DateUtils_DateUtils.setTime(origTo).diff(DateUtils_DateUtils.setTime(origFrom),"day");dateTime=diff>0?origFrom.get("h")+origFrom.get("m")+origFrom.get("s")+origTo.get("millisecond")+origTo.get("h")+origTo.get("m")+origTo.get("s")+origTo.get("millisecond")===0?1===diff?origFrom.format("D.MM"):"".concat(origFrom.format("D.MM")," - ").concat(origTo.subtract(1,"millisecond").format("D.MM")):"".concat(origFrom.format("D.MM")," - ").concat(origTo.format("D.MM")):"".concat(from.format("HH:mm")," - ").concat(to.format("HH:mm"));var getClassName=function getClassName(){var className="onedash-calendar-item";return props.className&&(className+=" ".concat(props.className)),props.active&&(className+=" active"),className},color=null!==(_props$color=props.color)&&void 0!==_props$color?_props$color:"#36aeb3",content=Object(jsx_runtime.jsx)("div",{style:{backgroundColor:"".concat(color,"60"),borderColor:color,color:color},children:Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("h2",{title:title,className:"title",children:title}),Object(jsx_runtime.jsx)("p",{title:description,className:"description",children:description})]}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)("p",{className:"time",title:dateTime,children:dateTime})})]})});return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[props.onClick&&Object(jsx_runtime.jsx)("button",{onClick:function onClick(){var _props$onClick;return null===(_props$onClick=props.onClick)||void 0===_props$onClick?void 0:_props$onClick.call(props)},style:style,className:getClassName(),children:content}),!props.onClick&&Object(jsx_runtime.jsx)("div",{style:style,className:getClassName(),children:content})]})},components_CalendarItem=CalendarItem_CalendarItem;try{CalendarItem_CalendarItem.displayName="CalendarItem",CalendarItem_CalendarItem.__docgenInfo={description:"",displayName:"CalendarItem",props:{from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"number"}},to:{defaultValue:null,description:"",name:"to",required:!0,type:{name:"number"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CalendarItem.tsx#CalendarItem"]={docgenInfo:CalendarItem_CalendarItem.__docgenInfo,name:"CalendarItem",path:"src/components/CalendarItem.tsx#CalendarItem"})}catch(__react_docgen_typescript_loader_error){}var CalendarCurrentIndicator_CalendarCurrentIndicator=function CalendarCurrentIndicator(props){var hourAmp=props.hourAmp,hourFrom=props.hourFrom,hourTo=props.hourTo,hourOffset=props.hourOffset,_React$useState=react_default.a.useState(dayjs_min_default()()),_React$useState2=Object(slicedToArray.a)(_React$useState,2),currentDate=_React$useState2[0],updateDate=_React$useState2[1];react_default.a.useEffect((function(){var interval=setInterval((function(){updateDate(dayjs_min_default()())}),1e3);return function(){return clearInterval(interval)}}),[]);var currentHour=currentDate.get("hour")+currentDate.get("minute")/60;return currentHour>hourFrom-30&&currentHour<=hourTo+30?Object(jsx_runtime.jsx)("div",{style:{top:"calc(".concat(100*((currentHour-hourFrom)/hourAmp+hourOffset),"%)")},className:"onedash-calendar-body-lines-current",children:Object(jsx_runtime.jsxs)("span",{children:[currentDate.format("HH:mm")," ",LocaleMessages()[LocaleCodes.oClock]]})}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{})},components_CalendarCurrentIndicator=CalendarCurrentIndicator_CalendarCurrentIndicator;try{CalendarCurrentIndicator_CalendarCurrentIndicator.displayName="CalendarCurrentIndicator",CalendarCurrentIndicator_CalendarCurrentIndicator.__docgenInfo={description:"",displayName:"CalendarCurrentIndicator",props:{hourFrom:{defaultValue:null,description:"",name:"hourFrom",required:!0,type:{name:"number"}},hourTo:{defaultValue:null,description:"",name:"hourTo",required:!0,type:{name:"number"}},hourAmp:{defaultValue:null,description:"",name:"hourAmp",required:!0,type:{name:"number"}},hourOffset:{defaultValue:null,description:"",name:"hourOffset",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CalendarCurrentIndicator.tsx#CalendarCurrentIndicator"]={docgenInfo:CalendarCurrentIndicator_CalendarCurrentIndicator.__docgenInfo,name:"CalendarCurrentIndicator",path:"src/components/CalendarCurrentIndicator.tsx#CalendarCurrentIndicator"})}catch(__react_docgen_typescript_loader_error){}var CalendarToolbarItem_CalendarToolbarItem=function CalendarToolbarItem(props){return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.children})},components_CalendarToolbarItem=CalendarToolbarItem_CalendarToolbarItem;try{CalendarToolbarItem_CalendarToolbarItem.displayName="CalendarToolbarItem",CalendarToolbarItem_CalendarToolbarItem.__docgenInfo={description:"",displayName:"CalendarToolbarItem",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CalendarToolbarItem.tsx#CalendarToolbarItem"]={docgenInfo:CalendarToolbarItem_CalendarToolbarItem.__docgenInfo,name:"CalendarToolbarItem",path:"src/components/CalendarToolbarItem.tsx#CalendarToolbarItem"})}catch(__react_docgen_typescript_loader_error){}var Calendar_Calendar=function(_Component){Object(inherits.a)(Calendar,_Component);var _super=Object(createSuper.a)(Calendar);function Calendar(props){var _props$hourFrom,_props$hourTo,_this;return Object(classCallCheck.a)(this,Calendar),(_this=_super.call(this,props)).interval=void 0,_this.getDayNum=function(){var _this$props$dayNum;return null!==(_this$props$dayNum=_this.props.dayNum)&&void 0!==_this$props$dayNum?_this$props$dayNum:7},_this.setPropsDate=function(){_this.setState(_this.getDateInverval(dayjs_min_default()(_this.props.startDate)))},_this.changeInterval=function(next){var dayNum=_this.getDayNum();_this.setState((function(state){var _this$props$onStartDa,_this$props,newDate=state.startOfInterval.add(!0===next?1*dayNum:-1*dayNum,"day");return null===(_this$props$onStartDa=(_this$props=_this.props).onStartDateChange)||void 0===_this$props$onStartDa||_this$props$onStartDa.call(_this$props,newDate.timestamp()),{startOfInterval:newDate.clone(),endOfInterval:newDate.clone().add(dayNum,"day").subtract(1,"second")}}))},_this.getDateInverval=function(date){var dayNum=_this.getDayNum(),startOfInterval=7===dayNum?DateUtils_DateUtils.setTime(dayjs_min_default()(date).startOf("week")):DateUtils_DateUtils.setTime(dayjs_min_default()(date)),endOfInterval=startOfInterval.clone().add(dayNum,"day").subtract(1,"second");return{startOfInterval:startOfInterval,endOfInterval:endOfInterval}},_this.setToday=function(){var _this$props$onStartDa2,_this$props2,interval=_this.getDateInverval(dayjs_min_default()());null===(_this$props$onStartDa2=(_this$props2=_this.props).onStartDateChange)||void 0===_this$props$onStartDa2||_this$props$onStartDa2.call(_this$props2,interval.startOfInterval.timestamp()),_this.setState(interval)},_this.dayNumClassName=function(baseClassName,dayNum){var className=baseClassName;return 0===dayNum&&(className+=" first"),dayNum===_this.getDayNum()-1&&(className+=" last"),className},_this.calendarItemStyle=function(item){var _item$laneNum,_this$state=_this.state,endOfInterval=_this$state.endOfInterval,startOfInterval=_this$state.startOfInterval,from=item.from,to=item.to,dayNum=_this.getDayNum(),hourAmp=_this.state.hourTo-_this.state.hourFrom+1,hourOffset=1/(2*hourAmp),fromHour=from.get("hour")+from.get("minute")/60,toHour=to.get("hour")+to.get("minute")/60,width="".concat(1/dayNum*(100/(null!==(_item$laneNum=item.laneNum)&&void 0!==_item$laneNum?_item$laneNum:1)),"%");if(to.timestamp()>endOfInterval.timestamp()||!from.isSameOrAfter(startOfInterval)){var end=to.timestamp()>endOfInterval.timestamp()?endOfInterval:to,start=from.isSameOrAfter(startOfInterval)?from:startOfInterval,days=end.diff(start,"day")+1;width="".concat(days/dayNum*100,"%")}var top="".concat(100*((fromHour-_this.state.hourFrom)/hourAmp+hourOffset),"%"),height="".concat(100*((toHour-_this.state.hourFrom)/hourAmp+hourOffset)-100*((fromHour-_this.state.hourFrom)/hourAmp+hourOffset),"%"),leftOffset=from.diff(_this.state.startOfInterval,"day"),conflictOffset=item.lane>1?100/dayNum/item.laneNum*(item.lane-1):0;return{width:width,top:top,height:height,left:"".concat((leftOffset>0?leftOffset:0)/dayNum*100+conflictOffset,"%")}},_this.getConflictingCalenderItems=function(){var _this$state2=_this.state,endOfInterval=_this$state2.endOfInterval,startOfInterval=_this$state2.startOfInterval,calendarItems=[];!function getItems(c,cItems){react_default.a.Children.forEach(c,(function(child){if(child&&(child.props&&child.props.children&&"object"==typeof child.props.children&&getItems(child.props.children,cItems),child.type===components_CalendarItem))for(var origFrom=dayjs_min_default()(child.props.from),origTo=dayjs_min_default()(child.props.to),diff=DateUtils_DateUtils.setTime(origTo).diff(DateUtils_DateUtils.setTime(origFrom),"day"),ii=0;ii<=diff;ii++){var from=origFrom.clone(),to=origTo.clone(),day=origFrom.add(ii,"d");(ii>0||from.isBefore(from.clone().set("h",_this.state.hourFrom-1).set("m",30)))&&(from=DateUtils_DateUtils.setTime(day,_this.state.hourFrom-1,30)),ii<diff&&(to=DateUtils_DateUtils.setTime(day,_this.state.hourTo,30));var toHour=to.get("hour")+to.get("minute")/60;!from.isSameOrBefore(endOfInterval)||!to.isSameOrAfter(startOfInterval)||ii===diff&&toHour<_this.state.hourFrom-.5||cItems.push({from:from,to:to,origFrom:origFrom,origTo:origTo,child:child,occurence:ii,lane:1,laneNum:1})}}))}(_this.props.children,calendarItems);var assignedItems=[];return(calendarItems=calendarItems.sort((function(x,y){return y.to.timestamp()-y.from.timestamp()-(x.to.timestamp()-x.from.timestamp())}))).forEach((function(item){for(var lane=1,assigned=!1;!assigned;){var conflicting=assignedItems.filter((function(x){return item.from.isBefore(x.to)&&item.to.isAfter(x.from)}));if(0===conflicting.length)return item.lane=lane,item.laneNum=lane,assignedItems.push(item),void(assigned=!0);var laneNum=conflicting.reduce((function(prev,current){return prev.laneNum>current.laneNum?prev:current})).laneNum;conflicting.find((function(x){return x.lane===lane}))?++lane>laneNum&&conflicting.forEach((function(i){i.laneNum=lane})):(item.lane=lane,item.laneNum=laneNum,assignedItems.push(item),assigned=!0)}})),assignedItems},_this.cloneCalendarItems=function(calendarItems){return calendarItems.map((function(item){var child=item.child,from=item.from,origFrom=item.origFrom,origTo=item.origTo,to=item.to,occurence=item.occurence;return react_default.a.cloneElement(child,{_origFrom:origFrom.timestamp(),_origTo:origTo.timestamp(),from:from.timestamp(),to:to.timestamp(),style:Object(objectSpread2.a)(Object(objectSpread2.a)({},child.props.style),_this.calendarItemStyle(item)),key:"".concat(child.key,"-").concat(occurence)},[])}))},_this.getCalendarItemElements=function(){var calendarItems=_this.getConflictingCalenderItems();return _this.cloneCalendarItems(calendarItems)},_this.getToolbarItems=function(){var children=[];return react_default.a.Children.forEach(_this.props.children,(function(child){child&&(null==child?void 0:child.type)===components_CalendarToolbarItem&&children.push(child)})),children},_this.hourHeight=function(){var _this$props$hourHeigh;return null!==(_this$props$hourHeigh=_this.props.hourHeight)&&void 0!==_this$props$hourHeigh?_this$props$hourHeigh:"75px"},_this.state={startOfInterval:dayjs_min_default()(),endOfInterval:dayjs_min_default()(),hourFrom:null!==(_props$hourFrom=props.hourFrom)&&void 0!==_props$hourFrom?_props$hourFrom:8,hourTo:null!==(_props$hourTo=props.hourTo)&&void 0!==_props$hourTo?_props$hourTo:17},_this}return Object(createClass.a)(Calendar,[{key:"componentDidMount",value:function componentDidMount(){this.setPropsDate()}},{key:"componentDidUpdate",value:function componentDidUpdate(lastProps){var _this$props$hourFrom,_this$props$hourTo;(lastProps.startDate!==this.props.startDate&&this.setPropsDate(),lastProps.hourFrom!==this.props.hourFrom&&this.props.hourFrom&&this.props.hourFrom<this.state.hourTo)&&this.setState({hourFrom:null!==(_this$props$hourFrom=this.props.hourFrom)&&void 0!==_this$props$hourFrom?_this$props$hourFrom:8});lastProps.hourTo!==this.props.hourTo&&this.props.hourTo&&this.props.hourTo>this.state.hourFrom&&this.setState({hourTo:null!==(_this$props$hourTo=this.props.hourTo)&&void 0!==_this$props$hourTo?_this$props$hourTo:17})}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval)}},{key:"render",value:function render(){var _this2=this,_this$state3=this.state,endOfInterval=_this$state3.endOfInterval,hourFrom=_this$state3.hourFrom,hourTo=_this$state3.hourTo,startOfInterval=_this$state3.startOfInterval,dayNum=this.getDayNum(),hourAmp=hourTo-hourFrom+1,hourOffset=1/(2*hourAmp);return Object(jsx_runtime.jsxs)("div",{className:"onedash-calendar",children:[Object(jsx_runtime.jsx)(components_CalendarToolbar,{onNextInterval:function onNextInterval(){return _this2.changeInterval(!0)},onPrevInterval:function onPrevInterval(){return _this2.changeInterval(!1)},onToday:this.setToday,todayEnabled:!(startOfInterval.isBefore(dayjs_min_default()())&&endOfInterval.isAfter(dayjs_min_default()())),calendarTitle:"".concat(startOfInterval.format("D.MM")," - ").concat(endOfInterval.format("D.MM YYYY")),additionalItems:this.getToolbarItems(),dateChangeDisabled:this.props.dateChangeDisabled}),Object(jsx_runtime.jsxs)("div",{className:"onedash-calendar-content",children:[Object(jsx_runtime.jsxs)("div",{className:"onedash-calendar-head",style:{gridTemplateColumns:"100px repeat(".concat(dayNum,", 1fr)")},children:[Object(jsx_runtime.jsx)("div",{className:"onedash-calendar-head-legend"}),Object(toConsumableArray.a)(Array(dayNum)).map((function(_,i){var day=startOfInterval.clone().add(i,"day");return Object(jsx_runtime.jsxs)("div",{className:_this2.dayNumClassName("onedash-calendar-head-day-head",i),children:[Object(jsx_runtime.jsxs)(utils_MediaRender,{type:"desktop",size:165*dayNum,children:[Object(jsx_runtime.jsx)("span",{className:day.isSame(dayjs_min_default()(),"day")?"same-day":"",children:day.format("D")}),Object(jsx_runtime.jsx)("h2",{children:day.format("dddd")})]}),Object(jsx_runtime.jsxs)(utils_MediaRender,{type:"mobile",size:165*dayNum,children:[Object(jsx_runtime.jsx)("span",{className:day.isSame(dayjs_min_default()(),"day")?"same-day small":"small",children:day.format("D")}),Object(jsx_runtime.jsx)("h2",{children:day.format("dd")})]})]},day.timestamp())}))]}),Object(jsx_runtime.jsx)("div",{className:"onedash-calendar-body-wrapper",children:Object(jsx_runtime.jsxs)("div",{className:"onedash-calendar-body",style:{gridTemplateColumns:"100px repeat(".concat(dayNum,", 1fr)")},children:[Object(jsx_runtime.jsx)("div",{className:"onedash-calendar-body-legend",style:{gridTemplateRows:"repeat(".concat(hourTo-hourFrom+1,",").concat(this.hourHeight(),")")},children:Object(toConsumableArray.a)(Array(hourTo-hourFrom+1)).map((function(_,i){return Object(jsx_runtime.jsxs)("p",{children:[(hourFrom+i).toFixed(2)," ",LocaleMessages()[LocaleCodes.oClock]]},i)}))}),Object(toConsumableArray.a)(Array(dayNum)).map((function(_,i){return Object(jsx_runtime.jsx)("div",{className:_this2.dayNumClassName("onedash-calendar-body-day",i)},i)})),Object(jsx_runtime.jsxs)("div",{className:"onedash-calendar-body-lines",children:[Object(toConsumableArray.a)(Array(hourAmp)).map((function(_,i){return Object(jsx_runtime.jsx)("div",{style:{top:"calc(".concat(100*(hourOffset+i/hourAmp),"%)")},className:"onedash-calendar-body-lines-hour"},i)})),Object(jsx_runtime.jsx)(components_CalendarCurrentIndicator,{hourAmp:hourAmp,hourFrom:hourFrom,hourOffset:hourOffset,hourTo:hourTo})]}),Object(jsx_runtime.jsx)("div",{className:"onedash-calendar-items",children:this.getCalendarItemElements()})]})})]})]})}}]),Calendar}(react.Component);try{Calendar_Calendar.displayName="Calendar",Calendar_Calendar.__docgenInfo={description:"",displayName:"Calendar",props:{startDate:{defaultValue:null,description:"Selected Startdate of full page calendar",name:"startDate",required:!1,type:{name:"number"}},hourFrom:{defaultValue:null,description:"Hour from which the calendar should start",name:"hourFrom",required:!1,type:{name:"number"}},hourTo:{defaultValue:null,description:"Hour where the calendar should end",name:"hourTo",required:!1,type:{name:"number"}},dayNum:{defaultValue:null,description:"How much days should be shown. Adjust for mobile to 3 or 1",name:"dayNum",required:!1,type:{name:"number"}},hourHeight:{defaultValue:null,description:"Hour height. Defaults to 75px",name:"hourHeight",required:!1,type:{name:"string"}},dateChangeDisabled:{defaultValue:null,description:"",name:"dateChangeDisabled",required:!1,type:{name:"boolean"}},onStartDateChange:{defaultValue:null,description:"",name:"onStartDateChange",required:!1,type:{name:"((startDate: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Calendar.tsx#Calendar"]={docgenInfo:Calendar_Calendar.__docgenInfo,name:"Calendar",path:"src/components/Calendar.tsx#Calendar"})}catch(__react_docgen_typescript_loader_error){}var timeslots=[{from:{day:0,hour:10,minute:30},to:{day:0,hour:12,minute:0},name:"Meeting with richard"},{from:{day:0,hour:8,minute:0},to:{day:0,hour:10,minute:0},name:"Project X"},{from:{day:2,hour:8,minute:0},to:{day:3,hour:10,minute:0},name:"Two day event"},{from:{day:5,hour:0,minute:0},to:{day:6,hour:0,minute:0},name:"Full day event"}],testdata=function getTestData(timestamp){var startOfWeek=dayjs_min_default()(timestamp).startOf("week");return timeslots.map((function(slot){return{name:slot.name,from:startOfWeek.add(slot.from.day,"day").set("hour",slot.from.hour).set("minute",slot.from.minute).timestamp(),to:startOfWeek.add(slot.to.day,"day").set("hour",slot.to.hour).set("minute",slot.to.minute).timestamp()}}))},CalendarExample_CalendarExample=function CalendarExample(_ref){var hourFrom=_ref.hourFrom,hourTo=_ref.hourTo,dayNum=_ref.dayNum,hourHeight=_ref.hourHeight,_React$useState=react_default.a.useState(dayjs_min_default()().timestamp()),_React$useState2=Object(slicedToArray.a)(_React$useState,2),calenderDate=_React$useState2[0],changeDate=_React$useState2[1],events=react_default.a.useMemo((function(){return testdata(calenderDate)}),[calenderDate]);return Object(jsx_runtime.jsx)("div",{className:"onedash-calendar-example",children:Object(jsx_runtime.jsxs)(Calendar_Calendar,{dayNum:dayNum,hourHeight:hourHeight,onStartDateChange:changeDate,startDate:calenderDate,hourFrom:hourFrom,hourTo:hourTo,children:[Object(jsx_runtime.jsx)(components_CalendarToolbarItem,{children:Object(jsx_runtime.jsx)("button",{className:"toolbar-btn highlight-btn",children:"New Event"})}),null==events?void 0:events.map((function(e,i){return Object(jsx_runtime.jsx)(components_CalendarItem,{title:e.name,from:e.from,to:e.to,className:"event"},i)}))]})})},stories_CalendarExample=CalendarExample_CalendarExample;try{CalendarExample_CalendarExample.displayName="CalendarExample",CalendarExample_CalendarExample.__docgenInfo={description:"",displayName:"CalendarExample",props:{hourFrom:{defaultValue:null,description:"",name:"hourFrom",required:!0,type:{name:"number"}},hourTo:{defaultValue:null,description:"",name:"hourTo",required:!0,type:{name:"number"}},dayNum:{defaultValue:null,description:"",name:"dayNum",required:!0,type:{name:"number"}},hourHeight:{defaultValue:null,description:"",name:"hourHeight",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/stories/CalendarExample.tsx#CalendarExample"]={docgenInfo:CalendarExample_CalendarExample.__docgenInfo,name:"CalendarExample",path:"src/components/stories/CalendarExample.tsx#CalendarExample"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(832),__webpack_require__(833);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(blocks.c,{title:"Components/Calendar",component:stories_CalendarExample,mdxType:"Meta"}),Object(esm.b)("h1",{id:"input"},"Input"),Object(esm.b)("p",null,"The calendar component is a hour calendar for extended timeslot view."),Object(esm.b)("h2",{id:"default"},"Default"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre",className:"language-jsx"},'const [calenderDate, changeDate] = React.useState(dayjs().timestamp());\nconst events = React.useMemo(() => getTestData(calenderDate), [calenderDate]);\nreturn (\n    <div className="onedash-calendar-example">\n        <Calendar dayNum={dayNum} onStartDateChange={changeDate} startDate={calenderDate} hourFrom={hourFrom} hourTo={hourTo}>\n            <CalendarToolbarItem>\n                <button>New Event</button>\n            </CalendarToolbarItem>\n\n            {events?.map((e, i) => (\n                <CalendarItem key={i as any} title={e.name} from={e.from} to={e.to} className="event" />\n            ))}\n        </Calendar>\n    </div>\n);\n')),Object(esm.b)(blocks.b,{mdxType:"Canvas"},Object(esm.b)(blocks.d,{name:"Default",args:{hourFrom:7,hourTo:22,dayNum:7,hourHeight:"75px"},mdxType:"Story"},args=>Object(esm.b)(stories_CalendarExample,_extends({},args,{mdxType:"CalendarExample"})))))}MDXContent.isMDXComponent=!0;const defaultStory=args=>Object(esm.b)(stories_CalendarExample,args);defaultStory.storyName="Default",defaultStory.args={hourFrom:7,hourTo:22,dayNum:7,hourHeight:"75px"},defaultStory.parameters={storySource:{source:"args => <CalendarExample {...args} />"}};const componentMeta={title:"Components/Calendar",component:stories_CalendarExample,includeStories:["defaultStory"]},mdxStoryNameToKey={Default:"defaultStory"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(esm.b)(blocks.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(esm.b)(MDXContent,null))};__webpack_exports__.default=componentMeta},842:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));var client_api=__webpack_require__(847),esm=__webpack_require__(6),parameters={actions:{argTypesRegex:"^on[A-Z].*"}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.b)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.c)(loader,!1)}));case"parameters":return Object(client_api.d)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.d)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[474,2,3]]]);